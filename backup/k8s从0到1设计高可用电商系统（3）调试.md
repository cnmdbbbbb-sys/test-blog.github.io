# 验证“高可用负载均衡”
每个服务都部署了 2 个副本 (Replicas)。Kubernetes 会自动在它们之间分配流量。
连续快速运行 5-10 次那个 curl 命令：
curl -H "Host: order.shop.local" http://127.0.0.1:30628/create_order
观察 JSON 里的 pod 和 served_by 字段的名字：如果它们在不停地变化！
一会儿是 order-service-xxxx-A
一会儿是 order-service-xxxx-B
这就证明了 K8s 的 Service 负载均衡 正在工作。即使其中一个 Pod 挂了，另一个也能立马接手，保证永远在线。

<img width="1490" height="387" alt="Image" src="https://github.com/user-attachments/assets/b7278f15-ea7d-4383-85dc-1c9d98b7ff0b" />

# 故障模拟成功 
注意这条报错，这不是 Bug
`{"payment":{"error":"Payment Gateway Timeout"}}`
```
if random.random() < 0.2:
    return jsonify({"error": "Payment Gateway Timeout"}), 500
```
这证明了系统能够正确处理下游服务的报错。在真实的微服务架构中，这就是熔断和降级的基础。